package dataaccess.hibernate4;

public abstract class AbstractHibernateDao <T extends serializable>{
  private Class<T> clazz;
  
  @Autowired
  private SessionFactory sessionFactory;
  
  public void setClazz (Final Class<T> clazzToSet){
    clazz=clazzToSet;
  }
  
  protected final Session getCurrentSession(){
    sessionFactory.getCurrentSession();
  }
  
  public T findOne (long id){
    return (T) getCurrentSession().get (clazz,id);
   }
   
   public void save (T t){
    getCurrentSession().persist(t);
   }
   
   public T update (T t){
    return (T) getCurrentSession().merge(t);
   }
   
   public void delete(T t){
    getCurrentSession().delete(t);
   }
   
   public void deleteById(long id){
    final T entity ) = findOne(id);
    delete (entity);
   }

}
